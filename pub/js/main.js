"use strict";var edTable=document.getElementById("edTable"),edTbody=document.getElementById("edTbody"),edForm=document.getElementById("addEd"),edUpdForm=document.getElementById("updateEd");function getEducations(){edTbody.innerHTML="",fetch(url+"/education").then(function(e){return e.json()}).then(function(e){var t="";e.forEach(function(e){t+="\n            <tr>\n                <td>".concat(e.edID,"\n                <td>").concat(e.edName,"</td>\n                <td>").concat(e.edPlace,"</td>\n                <td>").concat(e.edStart," - ").concat(e.edStop,'</td>\n                <td>\n                    <button type="button" id="').concat(e.edID,'">Ta bort</button>\n                </td>\n            </tr>\n            ')}),edTbody.innerHTML+=t})}function addEd(){var e=document.getElementById("edname").value,t=document.getElementById("edplace").value,n=document.getElementById("edstart").value,o=document.getElementById("edstop").value,d=JSON.stringify({edName:e,edPlace:t,edStart:n,edStop:o});fetch(url+"/education",{method:"POST",headers:{"Content-Type":"application/json"},body:d}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),edForm.reset(),getEducations()}function updateEd(){var e=document.getElementById("edID").value,t=document.getElementById("updedname").value,n=document.getElementById("updedplace").value,o=document.getElementById("updedstart").value,d=document.getElementById("updedstop").value,c=JSON.stringify({edName:t,edPlace:n,edStart:o,edStop:d});fetch(url+"/education/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},body:c}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),edUpdForm.reset(),getEducations()}function fillEdUpdForm(){var e=document.getElementById("edID").value;fetch(url+"/education/"+e).then(function(e){return e.json()}).then(function(e){e.forEach(function(e){document.getElementById("updedname").value=e.edName,document.getElementById("updedplace").value=e.edPlace,document.getElementById("updedstart").value=e.edStart,document.getElementById("updedstop").value=e.edStop})})}window.addEventListener("load",getEducations,!1),document.getElementById("submitEd").addEventListener("click",addEd,!1),document.getElementById("submitUpdEd").addEventListener("click",updateEd,!1),document.getElementById("edID").addEventListener("input",fillEdUpdForm,!1),edTable.addEventListener("click",function(e){fetch(url+"/education/"+e.target.id,{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),getEducations()});var url="http://studenter.miun.se/~emno1501/dt173g/projekt/rest/cv.php",edTab=document.getElementById("edTab"),workTab=document.getElementById("workTab"),webTab=document.getElementById("webTab"),edSection=document.getElementById("education"),workSection=document.getElementById("workxp"),webSection=document.getElementById("websites");function switchToEd(){"close"==edSection.className&&(edSection.className="open",edTab.className="current",workSection.className="close",workTab.className="hidden",webSection.className="close",webTab.className="hidden")}function switchToWork(){"close"==workSection.className&&(workSection.className="open",workTab.className="current",edSection.className="close",edTab.className="hidden",webSection.className="close",webTab.className="hidden")}function switchToWeb(){"close"==webSection.className&&(webSection.className="open",webTab.className="current",workSection.className="close",workTab.className="hidden",edSection.className="close",edTab.className="hidden")}edTab.addEventListener("click",switchToEd,!1),workTab.addEventListener("click",switchToWork,!1),webTab.addEventListener("click",switchToWeb,!1);var webTable=document.getElementById("websiteTable"),webTbody=document.getElementById("webTbody"),webForm=document.getElementById("addWebsite"),webUpdForm=document.getElementById("updateWebsite");function getWebsites(){webTbody.innerHTML="",fetch(url+"/websites").then(function(e){return e.json()}).then(function(e){var t="";e.forEach(function(e){t+="\n            <tr>\n                <td>".concat(e.websiteID,"\n                <td>").concat(e.websiteTitle,"</td>\n                <td>").concat(e.websiteDescription,'</td>\n                <td><a href="').concat(e.websiteLink,'">').concat(e.websiteLink,'</a></td>\n                <td>\n                    <button type="button" id="').concat(e.websiteID,'">Ta bort</button>\n                </td>\n            </tr>\n            ')}),webTbody.innerHTML+=t})}function addWebsite(){var e=document.getElementById("webtitle").value,t=document.getElementById("webdescr").value,n=document.getElementById("weblink").value,o=JSON.stringify({websiteTitle:e,websiteDescription:t,websiteLink:n});fetch(url+"/websites",{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),webForm.reset(),getWebsites()}function updateWebsite(){var e=document.getElementById("webID").value,t=document.getElementById("updwebtitle").value,n=document.getElementById("updwebdescr").value,o=document.getElementById("updweblink").value,d=JSON.stringify({websiteTitle:t,websiteDescription:n,websiteLink:o});fetch(url+"/websites/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},body:d}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),webUpdForm.reset(),getWebsites()}function fillUpdForm(){var e=document.getElementById("webID").value;fetch(url+"/websites/"+e).then(function(e){return e.json()}).then(function(e){e.forEach(function(e){document.getElementById("updwebtitle").value=e.websiteTitle,document.getElementById("updwebdescr").value=e.websiteDescription,document.getElementById("updweblink").value=e.websiteLink})})}window.addEventListener("load",getWebsites,!1),document.getElementById("submitWebsite").addEventListener("click",addWebsite,!1),document.getElementById("submitUpdWebsite").addEventListener("click",updateWebsite,!1),document.getElementById("webID").addEventListener("input",fillUpdForm,!1),webTable.addEventListener("click",function(e){fetch(url+"/websites/"+e.target.id,{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),getWebsites()});var workTable=document.getElementById("workTable"),workTbody=document.getElementById("workTbody"),workForm=document.getElementById("addWork"),workUpdForm=document.getElementById("updateWork");function getWorkxp(){workTbody.innerHTML="",fetch(url+"/workexperience").then(function(e){return e.json()}).then(function(e){var t="";e.forEach(function(e){t+="\n            <tr>\n                <td>".concat(e.workID,"\n                <td>").concat(e.workTitle,"</td>\n                <td>").concat(e.workPlace,"</td>\n                <td>").concat(e.workStart," - ").concat(e.workStop,'</td>\n                <td>\n                    <button type="button" id="').concat(e.workID,'">Ta bort</button>\n                </td>\n            </tr>\n            ')}),workTbody.innerHTML+=t})}function addWork(){var e=document.getElementById("worktitle").value,t=document.getElementById("workplace").value,n=document.getElementById("workstart").value,o=document.getElementById("workstop").value,d=JSON.stringify({workTitle:e,workPlace:t,workStart:n,workStop:o});fetch(url+"/workexperience",{method:"POST",headers:{"Content-Type":"application/json"},body:d}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),workForm.reset(),getWorkxp()}function updateWork(){var e=document.getElementById("workID").value,t=document.getElementById("updworktitle").value,n=document.getElementById("updworkplace").value,o=document.getElementById("updworkstart").value,d=document.getElementById("updworkstop").value,c=JSON.stringify({workTitle:t,workPlace:n,workStart:o,workStop:d});fetch(url+"/workexperience/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},body:c}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),workUpdForm.reset(),getWorkxp()}function fillWorkUpdForm(){var e=document.getElementById("workID").value;fetch(url+"/workexperience/"+e).then(function(e){return e.json()}).then(function(e){e.forEach(function(e){document.getElementById("updworktitle").value=e.workTitle,document.getElementById("updworkplace").value=e.workPlace,document.getElementById("updworkstart").value=e.workStart,document.getElementById("updworkstop").value=e.workStop})})}window.addEventListener("load",getWorkxp,!1),document.getElementById("submitWork").addEventListener("click",addWork,!1),document.getElementById("submitUpdWork").addEventListener("click",updateWork,!1),document.getElementById("workID").addEventListener("input",fillWorkUpdForm,!1),workTable.addEventListener("click",function(e){fetch(url+"/workexperience/"+e.target.id,{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),getWorkxp()});
//# sourceMappingURL=main.js.map
