{"version":3,"sources":["education.js","main.js","websites.js","workxp.js"],"names":["edTable","document","getElementById","edTbody","edForm","edUpdForm","getEducations","innerHTML","fetch","url","then","res","json","data","output","forEach","ed","concat","edID","edName","edPlace","edStart","edStop","addEd","value","jsonStr","JSON","stringify","method","headers","Content-Type","body","console","log","err","reset","updateEd","fillEdUpdForm","id","window","addEventListener","e","target","workTab","edSection","workSection","className","edTab","webSection","webTab","switchToWork","switchToEd","switchToWeb","webTable","webTbody","webForm","webUpdForm","getWebsites","web","websiteID","websiteTitle","websiteDescription","websiteLink","addWebsite","webTitle","webDescr","webLink","updateWebsite","webID","fillUpdForm","workTable","workTbody","workForm","workUpdForm","getWorkxp","work","workID","workTitle","workPlace","workStart","workStop","addWork","updateWork","fillWorkUpdForm","w"],"mappings":"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","file":"main.js","sourcesContent":["//Variabler\r\nlet edTable = document.getElementById(\"edTable\");\r\nlet edTbody = document.getElementById(\"edTbody\");\r\nlet edForm = document.getElementById(\"addEd\");\r\nlet edUpdForm = document.getElementById(\"updateEd\");\r\n\r\n//Läs ut data - Fetchanrop mot webbtjänst\r\nwindow.addEventListener(\"load\", getEducations, false);\r\nfunction getEducations() {\r\n    edTbody.innerHTML = \"\";\r\n    fetch(url + \"/education\")\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n        let output = \"\";\r\n        //Lägg in data i tabellelement\r\n        data.forEach( function(ed) {\r\n            output += `\r\n            <tr>\r\n                <td>${ed.edID}\r\n                <td>${ed.edName}</td>\r\n                <td>${ed.edPlace}</td>\r\n                <td>${ed.edStart} - ${ed.edStop}</td>\r\n                <td>\r\n                    <button type=\"button\" id=\"${ed.edID}\">Ta bort</button>\r\n                </td>\r\n            </tr>\r\n            `\r\n        })\r\n        //Lägg in tabellelement i tabell för utbildning\r\n        edTbody.innerHTML += output;\r\n    })\r\n}\r\n\r\n//Lägg till utbildning\r\ndocument.getElementById(\"submitEd\").addEventListener(\"click\", addEd, false);\r\nfunction addEd() {\r\n    //Variabler som lagrar de värden som formulärets input-rutor innehåller\r\n    let edName = document.getElementById(\"edname\").value;\r\n    let edPlace = document.getElementById(\"edplace\").value;\r\n    let edStart = document.getElementById(\"edstart\").value;\r\n    let edStop = document.getElementById(\"edstop\").value;\r\n\r\n    let jsonStr = JSON.stringify({ //Lagra i JSON-format\r\n        \"edName\": edName,\r\n        \"edPlace\": edPlace,\r\n        \"edStart\": edStart,\r\n        \"edStop\": edStop\r\n    });\r\n    fetch(url + \"/education\", {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: jsonStr\r\n    }) .then((res) => res.json())\r\n    .then((data) => console.log(data))\r\n    .catch((err) => console.log(err))\r\n    edForm.reset(); //Töm tabell\r\n    getEducations(); //Anropa funktion som hämtar och skriver ut data i tabellen på nytt\r\n}\r\n\r\n//Ändra utbildning\r\ndocument.getElementById(\"submitUpdEd\").addEventListener(\"click\", updateEd, false);\r\nfunction updateEd() {\r\n    //Variabler som lagrar de värden som formulärets input-rutor innehåller\r\n    let edID = document.getElementById(\"edID\").value;\r\n    let edName = document.getElementById(\"updedname\").value;\r\n    let edPlace = document.getElementById(\"updedplace\").value;\r\n    let edStart = document.getElementById(\"updedstart\").value;\r\n    let edStop = document.getElementById(\"updedstop\").value;\r\n\r\n    let jsonStr = JSON.stringify({ //Lagra i JSON-format\r\n        \"edName\": edName,\r\n        \"edPlace\": edPlace,\r\n        \"edStart\": edStart,\r\n        \"edStop\": edStop\r\n    });\r\n    fetch(url + \"/education/\" + edID, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: jsonStr\r\n    }) .then((res) => res.json())\r\n    .then((data) => console.log(data))\r\n    .catch((err) => console.log(err))\r\n    edUpdForm.reset(); //Töm tabell\r\n    getEducations(); //Anropa funktion som hämtar och skriver ut data i tabellen på nytt\r\n}\r\n\r\n//Autoifyll av uppdateringsformulär när IDt fylls i\r\ndocument.getElementById(\"edID\").addEventListener(\"input\", fillEdUpdForm, false);\r\nfunction fillEdUpdForm() {\r\n    let id = document.getElementById(\"edID\").value;\r\n\r\n    fetch(url + \"/education/\" + id)\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n        data.forEach( function(ed) {\r\n                document.getElementById(\"updedname\").value = ed.edName;\r\n                document.getElementById(\"updedplace\").value = ed.edPlace;\r\n                document.getElementById(\"updedstart\").value = ed.edStart;\r\n                document.getElementById(\"updedstop\").value = ed.edStop;\r\n        })\r\n    })\r\n}\r\n\r\n//Radera utbildning\r\nedTable.addEventListener(\"click\", function(e){\r\n    fetch(url+\"/education/\"+e.target.id, { //Lägger till IDt från det element som användaren klickade på till url:en\r\n        method: \"DELETE\",\r\n    }) .then((res) => res.json())\r\n    .then((data) => console.log(data))\r\n    .catch((err) => console.log(err))\r\n    getEducations(); //Anropa funktion som hämtar och skriver ut data i tabellen på nytt\r\n});","\"use strict\";\r\n//URL till webbtjänst\r\nlet url = \"http://studenter.miun.se/~emno1501/dt173g/projekt/rest/cv.php\"; //URL till webbtjänst\r\n/* let url = \"http://localhost/cv_rest/cv.php\"; */\r\n\r\n//Variabler\r\nlet edTab = document.getElementById(\"edTab\");\r\nlet workTab = document.getElementById(\"workTab\");\r\nlet webTab = document.getElementById(\"webTab\");\r\nlet edSection = document.getElementById(\"education\");\r\nlet workSection = document.getElementById(\"workxp\");\r\nlet webSection = document.getElementById(\"websites\");\r\n\r\n//Byt mellan flikar\r\nedTab.addEventListener(\"click\", switchToEd, false);\r\nworkTab.addEventListener(\"click\", switchToWork, false);\r\nwebTab.addEventListener(\"click\", switchToWeb, false);\r\n\r\nfunction switchToEd() {\r\n    if(edSection.className == \"close\") {\r\n        edSection.className = \"open\"; edTab.className = \"current\";\r\n        workSection.className = \"close\"; workTab.className = \"hidden\";\r\n        webSection.className = \"close\"; webTab.className = \"hidden\";\r\n    }\r\n}\r\nfunction switchToWork() {\r\n    if(workSection.className == \"close\") {\r\n        workSection.className = \"open\"; workTab.className = \"current\";\r\n        edSection.className = \"close\"; edTab.className = \"hidden\";\r\n        webSection.className = \"close\"; webTab.className = \"hidden\";\r\n    }\r\n}\r\nfunction switchToWeb() {\r\n    if(webSection.className == \"close\") {\r\n        webSection.className = \"open\"; webTab.className = \"current\";\r\n        workSection.className = \"close\"; workTab.className = \"hidden\";\r\n        edSection.className = \"close\"; edTab.className = \"hidden\";\r\n    }\r\n}","//Variabler\r\nlet webTable = document.getElementById(\"websiteTable\");\r\nlet webTbody = document.getElementById(\"webTbody\");\r\nlet webForm = document.getElementById(\"addWebsite\");\r\nlet webUpdForm = document.getElementById(\"updateWebsite\");\r\n\r\n//Läs ut data - Fetchanrop mot webbtjänst\r\nwindow.addEventListener(\"load\", getWebsites, false);\r\nfunction getWebsites() {\r\n    webTbody.innerHTML = \"\";\r\n    fetch(url + \"/websites\")\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n        let output = \"\";\r\n        //Lägg in data i tabellelement\r\n        data.forEach( function(web) {\r\n            output += `\r\n            <tr>\r\n                <td>${web.websiteID}\r\n                <td>${web.websiteTitle}</td>\r\n                <td>${web.websiteDescription}</td>\r\n                <td><a href=\"${web.websiteLink}\">${web.websiteLink}</a></td>\r\n                <td>\r\n                    <button type=\"button\" id=\"${web.websiteID}\">Ta bort</button>\r\n                </td>\r\n            </tr>\r\n            `\r\n        })\r\n        //Lägg in tabellelement i tabell för webbplatser\r\n        webTbody.innerHTML += output;\r\n    })\r\n}\r\n\r\n//Lägg till webbsida\r\ndocument.getElementById(\"submitWebsite\").addEventListener(\"click\", addWebsite, false);\r\nfunction addWebsite() {\r\n    //Variabler som lagrar de värden som formulärets input-rutor innehåller\r\n    let webTitle = document.getElementById(\"webtitle\").value;\r\n    let webDescr = document.getElementById(\"webdescr\").value;\r\n    let webLink = document.getElementById(\"weblink\").value;\r\n\r\n    let jsonStr = JSON.stringify({ //Lagra i JSON-format\r\n        \"websiteTitle\": webTitle,\r\n        \"websiteDescription\": webDescr,\r\n        \"websiteLink\": webLink\r\n    });\r\n    fetch(url + \"/websites\", {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: jsonStr\r\n    }) .then((res) => res.json())\r\n    .then((data) => console.log(data))\r\n    .catch((err) => console.log(err))\r\n    webForm.reset(); //Töm formulär\r\n    getWebsites(); //Anropa funktion som hämtar och skriver ut data i tabellen på nytt\r\n}\r\n\r\n//Uppdatera webbsida\r\ndocument.getElementById(\"submitUpdWebsite\").addEventListener(\"click\", updateWebsite, false);\r\nfunction updateWebsite() {\r\n    //Variabler som lagrar de värden som formulärets input-rutor innehåller\r\n    let webID = document.getElementById(\"webID\").value;\r\n    let webTitle = document.getElementById(\"updwebtitle\").value;\r\n    let webDescr = document.getElementById(\"updwebdescr\").value;\r\n    let webLink = document.getElementById(\"updweblink\").value;\r\n\r\n    let jsonStr = JSON.stringify({ //Lagra i JSON-format\r\n        \"websiteTitle\": webTitle,\r\n        \"websiteDescription\": webDescr,\r\n        \"websiteLink\": webLink\r\n    });\r\n    fetch(url + \"/websites/\" + webID, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: jsonStr\r\n    }) .then((res) => res.json())\r\n    .then((data) => console.log(data))\r\n    .catch((err) => console.log(err))\r\n    webUpdForm.reset(); //Töm tabell\r\n    getWebsites(); //Anropa funktion som hämtar och skriver ut data i tabellen på nytt\r\n}\r\n//Autoifyll av uppdateringsformulär när IDt fylls i\r\ndocument.getElementById(\"webID\").addEventListener(\"input\", fillUpdForm, false);\r\nfunction fillUpdForm() {\r\n    let id = document.getElementById(\"webID\").value;\r\n\r\n    fetch(url + \"/websites/\" + id)\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n        data.forEach( function(web) {\r\n                document.getElementById(\"updwebtitle\").value = web.websiteTitle;\r\n                document.getElementById(\"updwebdescr\").value = web.websiteDescription;\r\n                document.getElementById(\"updweblink\").value = web.websiteLink;\r\n        })\r\n    })\r\n}\r\n\r\n//Radera webbsida\r\nwebTable.addEventListener(\"click\", function(e){\r\n    fetch(url+\"/websites/\"+e.target.id, { //Lägger till IDt från det element som användaren klickade på till url:en\r\n        method: \"DELETE\",\r\n    }) .then((res) => res.json())\r\n    .then((data) => console.log(data))\r\n    .catch((err) => console.log(err))\r\n    getWebsites(); //Anropa funktion som hämtar och skriver ut data i tabellen på nytt\r\n});","//Variabler\r\nlet workTable = document.getElementById(\"workTable\");\r\nlet workTbody = document.getElementById(\"workTbody\");\r\nlet workForm = document.getElementById(\"addWork\");\r\nlet workUpdForm = document.getElementById(\"updateWork\");\r\n\r\n//Läs ut data om arbetserfarenhet - Fetchanrop mot webbtjänst\r\nwindow.addEventListener(\"load\", getWorkxp, false);\r\nfunction getWorkxp() {\r\n    workTbody.innerHTML = \"\";\r\n    fetch(url + \"/workexperience\")\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n        let output = \"\";\r\n        //Lägg in data i tabellelement\r\n        data.forEach( function(work) {\r\n            output += `\r\n            <tr>\r\n                <td>${work.workID}\r\n                <td>${work.workTitle}</td>\r\n                <td>${work.workPlace}</td>\r\n                <td>${work.workStart} - ${work.workStop}</td>\r\n                <td>\r\n                    <button type=\"button\" id=\"${work.workID}\">Ta bort</button>\r\n                </td>\r\n            </tr>\r\n            `\r\n        })\r\n        //Lägg in tabellelement i tabell för arbetserfarenhet\r\n        workTbody.innerHTML += output;\r\n    })\r\n}\r\n\r\n//Lägg till arbetserfarenhet\r\ndocument.getElementById(\"submitWork\").addEventListener(\"click\", addWork, false);\r\nfunction addWork() {\r\n    //Variabler som lagrar de värden som formulärets input-rutor innehåller\r\n    let workTitle = document.getElementById(\"worktitle\").value;\r\n    let workPlace = document.getElementById(\"workplace\").value;\r\n    let workStart = document.getElementById(\"workstart\").value;\r\n    let workStop = document.getElementById(\"workstop\").value;\r\n\r\n    let jsonStr = JSON.stringify({ //Lagra i JSON-format\r\n        \"workTitle\": workTitle,\r\n        \"workPlace\": workPlace,\r\n        \"workStart\": workStart,\r\n        \"workStop\": workStop\r\n    });\r\n    fetch(url + \"/workexperience\", {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: jsonStr\r\n    }) .then((res) => res.json())\r\n    .then((data) => console.log(data))\r\n    .catch((err) => console.log(err))\r\n    workForm.reset(); //Töm tabell\r\n    getWorkxp(); //Anropa funktion som hämtar och skriver ut data i tabellen på nytt\r\n}\r\n\r\n//Ändra arbetserfarenhet\r\ndocument.getElementById(\"submitUpdWork\").addEventListener(\"click\", updateWork, false);\r\nfunction updateWork() {\r\n    //Variabler som lagrar de värden som formulärets input-rutor innehåller\r\n    let workID = document.getElementById(\"workID\").value;\r\n    let workTitle = document.getElementById(\"updworktitle\").value;\r\n    let workPlace = document.getElementById(\"updworkplace\").value;\r\n    let workStart = document.getElementById(\"updworkstart\").value;\r\n    let workStop = document.getElementById(\"updworkstop\").value;\r\n\r\n    let jsonStr = JSON.stringify({ //Lagra i JSON-format\r\n        \"workTitle\": workTitle,\r\n        \"workPlace\": workPlace,\r\n        \"workStart\": workStart,\r\n        \"workStop\": workStop\r\n    });\r\n    fetch(url + \"/workexperience/\" + workID, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: jsonStr\r\n    }) .then((res) => res.json())\r\n    .then((data) => console.log(data))\r\n    .catch((err) => console.log(err))\r\n    workUpdForm.reset(); //Töm tabell\r\n    getWorkxp(); //Anropa funktion som hämtar och skriver ut data i tabellen på nytt\r\n}\r\n\r\n//Autoifyll av uppdateringsformulär när IDt fylls i\r\ndocument.getElementById(\"workID\").addEventListener(\"input\", fillWorkUpdForm, false);\r\nfunction fillWorkUpdForm() {\r\n    let id = document.getElementById(\"workID\").value;\r\n\r\n    fetch(url + \"/workexperience/\" + id)\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n        data.forEach( function(w) {\r\n                document.getElementById(\"updworktitle\").value = w.workTitle;\r\n                document.getElementById(\"updworkplace\").value = w.workPlace;\r\n                document.getElementById(\"updworkstart\").value = w.workStart;\r\n                document.getElementById(\"updworkstop\").value = w.workStop;\r\n        })\r\n    })\r\n}\r\n\r\n//Radera arbetserfarenhet\r\nworkTable.addEventListener(\"click\", function(e){\r\n    fetch(url+\"/workexperience/\"+e.target.id, { //Lägger till IDt från det element som användaren klickade på till url:en\r\n        method: \"DELETE\",\r\n    }) .then((res) => res.json())\r\n    .then((data) => console.log(data))\r\n    .catch((err) => console.log(err))\r\n    getWorkxp(); //Anropa funktion som hämtar och skriver ut data i tabellen på nytt\r\n});"]}